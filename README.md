## updater——更新客户端小程序，Mod服好帮手

**[原创|开源]updater——更新客户端小程序，Mod服好帮手，正则表达式|热更新|CDN支持**

a. 每此服务器添加或者删除了Mod、材质包后，都要在群里发一个全新压缩包。麻烦，耗时又耗力，某网盘下载又慢？

b. 当服务端修改一些文件之后，不用再下载整个客户端，在此程序的帮助下很方便地将客户端的对应文件保持和服务端的同步

## 作者的话

> 1.0使用Java开发，需要部署到VPS上，支持部分定制功能，使用简单，但依赖Java环境
>
> 2.0使用Python开发，可以部署到CDN上，或者PHP站点，核心功能全部可定制，但配置相对繁琐

> 我推荐大家使用2.0版本，1.0仍然有许多未能复现的Bug仍未解决。
>
> 使用2.0时，如果是新人服主或者技术，推荐使用动态部署，因为毕竟容易配置，直接买一个网站空间上传就可以了，如果资金足够建议买带宽稍大一点的主机。
>
> 如果想发挥软件全部能力或者动态部署不能满足需要，可以使用静态部署，将其部署到CDN上，一方面流量费用相对传统主机更低，另一方面下载速度可达10mb/s（100兆宽带下），体验友好。

<!-- tabs:start -->

## **2.0版本介绍**

1. 支持静态部署，支持对象存储服务、支持CDN（静态部署方式）
2. 支持集成到启动器，一键启动游戏
3. 两种工作模式支持，A模式：指定路径更新 和 B模式：指定文件更新

2. 支持用正则表达式过滤文件或者路径
3. 依然支持热更新的特性
4. 服务端使用php开发，可以将更新源挂到网站空间上，对面服极其友好（动态部署方式）
5. exe文件打包，即使没有Jvav环境也能正常运行

## **1.0版本介绍（已过时）**

特别注意：
1. 本软件是一个软件，请独立运行，不要放到plugins文件夹或者Mods文件夹
2. 本软件运行要求最低是Java8
3. 面板服通常无法使用此软件(多数情况下)，因为无法开启新的独立端口也没有主机终端可以操作，VPS则不受这个影响

<!-- tabs:end -->

## 文档目录

[食用手册-2.4](食用手册-2.4.md)

[食用手册-2.1-2.2](食用手册-2.1-2.2.md)

[食用手册-2.0-2.1.1](食用手册-2.0-2.1.1.md)

[食用手册-1.2.2](食用手册-1.2.2.md)

[食用手册-1.2.1](食用手册-1.2.1.md)

[食用手册-1.0-1.2.0](食用手册-1.0-1.2.0.md)

[食用手册-FileSA远古版本(前ClientUpdater项目)](食用手册-FileSA远古版本.md)

---

<!-- tabs:start -->

## **开源地址**

1. 服务端：https://github.com/innc11/updater-server
2. 核心包: https://github.com/innc11/updater-core (核心包通常内嵌与服务端Jar之中)
3. 客户端: https://github.com/innc11/updater-client (只是个空壳，核心逻辑在核心包里面)
4. 编辑器：https://github.com/innc11/updater-rulesEditor

## **更新记录（服务端）**

0.1：
第一个版本发布

0.2：
修复Java7无法运行的问题

0.3：
移除以脚本来启动的机制，改为直接运行

1.0：
修改通信协议，默认端口更换为28445
修改GUI界面，显示数据更详细
添加修改窗口标题的功能
添加AfterRun机制

1.0.1b1：
添加对文件夹的支持
添加对多个文件夹的支持
添加对文件的比较（MD5）
添加对多个更新源的支持
修改默认端口为22123
添加多行AfterRun语句的支持
修改同步规则从客户端获取改为从服务端获取

1.0.1b2：
修改默认端口为26542
修复文件极多的文件夹无法更新的问题
移除更新完后的提示框

1.0.1b3：
1.添加GUI界面

1.1：
添加动态执行机制
添加文件忽略机制
修改默认端口为5398
修改JRE最低要求为1.8或者更高版本
添加内置的帮助文档

1.2：
将loader分离成一个单独的项目
修复"忽略文件"功能无法生效的问题
修复"无法删除应该被删除的文件/文件夹"的问题

1.2.1：
优化代码，变更一些文字提示

1.2.2：
底修复了客户端文件路径中含.（尤其是.minecraft目录）时忽略文件(夹)无效的问题
美化了一些客户端显示效果

1.2.1：
修复了一些传输机制的问题和优化部分代码效率，仓库从coding移动到github

1.2：
修复了文件名过长会乱码的bug和修复了忽略文件功能无效的bug，并增加了找不到核心包和更新源文件夹的提示信息，下次准备增加单独针对某个文件的更新规则的支持和以正则表达式来忽略的文件机制，另外1.1版本不能和1.2版本混用

1.2.3：
修复无法更新客户端根目录的问题

2.0.1: 
规范了客户端配置文件的命名

2.1: 
制作了新的界面，取代了之前的终端界面，但是大小也大了不少

2.1.1：
修复了任务栏进度条在取消最小化后会丢失的问题

2.1.2：
重构了主代码逻辑，优化了一些进度的描述

2.2.0：
使用了新的配置文件逻辑，更加清晰明了、修复了报错信息框无法弹出来的问题

2.2.1：
修复子目录文件无法下载的问题、修复空文件夹无法创建的问题、修复无法弹出报错信息的问题、增加Content-Length缺失的情景处理、增加客户端窗口部分配置功能

2.4.7：
支持静态部署、支持集成到启动器（如HMCL），另外注意1.4版本和之前的版本协议不能互相兼容！

## **更新记录（客户端）**

> 从服务端2.0开始，客户端版本号由数字(1.x)变为字母+数字的组合形式(a0922、b0108)，字母为2020年起的年份，数字为日期

1.x：
（更新记录已经找不到了）

a0922: 
修复了空格路径无法正常启动的问题

b0108：
支持集成到启动器（如HMCL）

<!-- tabs:end -->