# 从旧版本升级

!>如非必要，不建议升级大版本，比如2.5升级2.6等

updater本身支持自身热升级，可以在每次启动时自动升级到服务端内的最新版本

具体升级步骤：

1. 下载新版的热更新包
2. 解压，覆盖掉服务端`hotupdate`目录内的同名文件
3. 如果需要，请重新生成校验文件，动态服务端可跳过此步骤
4. 上传到服务器即可，客户端会在下次运行时自动进行升级

> 建议升级线上版本之前，先开个测试服和测试客户端测试效果，没问题之后再上传线上服务器上供玩家下载

---

因Windows机制所致，不能删除运行中的文件

所以无法对**updater客户端程序**`UpdaterClient-x.x.exe`文件自身进行更新

只能以重新发布完整MC客户端压缩包的形式来更新这个文件

但这个文件BUG相对非常少，我也不会经常对这个文件进行更新

## 从v2.7升级到2.8

v2.7-v2.8并没有添加太多新的功能，整体功能上和v2.7版本一致，此次更新主要是集中在重写配置文件，简化配置难度上，方便新人入坑，几乎很多东西都和v2.7不兼容，需要重新配置，如非必要，不太建议进行此版本的升级

## 从v2.5升级到v2.6、v2.7

由于通信协议不同，从v2.5升级到v2.6、v2.7版本的方法较为特殊

### 静态服务端2.4

在升级到新版本时，配置文件`index.json`中需要保留`client`部分用于兼容2.5客户端不能删除掉（否则2.5客户端会报错），这个`client`设置参数只对2.5版本客户端起效，如果要对2.6起效的话，请在`updater.settings.json`文件中进行配置

![image-20210425021841379](从旧版本升级/image-20210425021841379.png)

### PHP服务端2.3

如果PHP服务端请不要升级，新版客户端可以兼容老版本2.3的PHP服务端，只是`client.json`文件中的设置参数只对2.5版本客户端起效，如果要对2.6起效的话，请在`updater.settings.json`文件中进行配置